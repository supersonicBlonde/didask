{"version":3,"file":"scripts.min.js","sources":["scripts.min.js"],"sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*! modernizr 3.6.0 (Custom Build) | MIT *\r\n * https://modernizr.com/download/?-flexbox-flexboxlegacy-setclasses !*/\n!function (e, n, t) {\n  function r(e, n) {\n    return _typeof(e) === n;\n  }\n\n  function o() {\n    var e, n, t, o, s, i, l;\n\n    for (var a in x) {\n      if (x.hasOwnProperty(a)) {\n        if (e = [], n = x[a], n.name && (e.push(n.name.toLowerCase()), n.options && n.options.aliases && n.options.aliases.length)) for (t = 0; t < n.options.aliases.length; t++) {\n          e.push(n.options.aliases[t].toLowerCase());\n        }\n\n        for (o = r(n.fn, \"function\") ? n.fn() : n.fn, s = 0; s < e.length; s++) {\n          i = e[s], l = i.split(\".\"), 1 === l.length ? Modernizr[l[0]] = o : (!Modernizr[l[0]] || Modernizr[l[0]] instanceof Boolean || (Modernizr[l[0]] = new Boolean(Modernizr[l[0]])), Modernizr[l[0]][l[1]] = o), C.push((o ? \"\" : \"no-\") + l.join(\"-\"));\n        }\n      }\n    }\n  }\n\n  function s(e) {\n    var n = w.className,\n        t = Modernizr._config.classPrefix || \"\";\n\n    if (_ && (n = n.baseVal), Modernizr._config.enableJSClass) {\n      var r = new RegExp(\"(^|\\\\s)\" + t + \"no-js(\\\\s|$)\");\n      n = n.replace(r, \"$1\" + t + \"js$2\");\n    }\n\n    Modernizr._config.enableClasses && (n += \" \" + t + e.join(\" \" + t), _ ? w.className.baseVal = n : w.className = n);\n  }\n\n  function i(e, n) {\n    return !!~(\"\" + e).indexOf(n);\n  }\n\n  function l() {\n    return \"function\" != typeof n.createElement ? n.createElement(arguments[0]) : _ ? n.createElementNS.call(n, \"http://www.w3.org/2000/svg\", arguments[0]) : n.createElement.apply(n, arguments);\n  }\n\n  function a(e) {\n    return e.replace(/([a-z])-([a-z])/g, function (e, n, t) {\n      return n + t.toUpperCase();\n    }).replace(/^-/, \"\");\n  }\n\n  function f(e, n) {\n    return function () {\n      return e.apply(n, arguments);\n    };\n  }\n\n  function u(e, n, t) {\n    var o;\n\n    for (var s in e) {\n      if (e[s] in n) return t === !1 ? e[s] : (o = n[e[s]], r(o, \"function\") ? f(o, t || n) : o);\n    }\n\n    return !1;\n  }\n\n  function c(e) {\n    return e.replace(/([A-Z])/g, function (e, n) {\n      return \"-\" + n.toLowerCase();\n    }).replace(/^ms-/, \"-ms-\");\n  }\n\n  function d(n, t, r) {\n    var o;\n\n    if (\"getComputedStyle\" in e) {\n      o = getComputedStyle.call(e, n, t);\n      var s = e.console;\n      if (null !== o) r && (o = o.getPropertyValue(r));else if (s) {\n        var i = s.error ? \"error\" : \"log\";\n        s[i].call(s, \"getComputedStyle returning null, its possible modernizr test results are inaccurate\");\n      }\n    } else o = !t && n.currentStyle && n.currentStyle[r];\n\n    return o;\n  }\n\n  function p() {\n    var e = n.body;\n    return e || (e = l(_ ? \"svg\" : \"body\"), e.fake = !0), e;\n  }\n\n  function m(e, t, r, o) {\n    var s,\n        i,\n        a,\n        f,\n        u = \"modernizr\",\n        c = l(\"div\"),\n        d = p();\n    if (parseInt(r, 10)) for (; r--;) {\n      a = l(\"div\"), a.id = o ? o[r] : u + (r + 1), c.appendChild(a);\n    }\n    return s = l(\"style\"), s.type = \"text/css\", s.id = \"s\" + u, (d.fake ? d : c).appendChild(s), d.appendChild(c), s.styleSheet ? s.styleSheet.cssText = e : s.appendChild(n.createTextNode(e)), c.id = u, d.fake && (d.style.background = \"\", d.style.overflow = \"hidden\", f = w.style.overflow, w.style.overflow = \"hidden\", w.appendChild(d)), i = t(c, e), d.fake ? (d.parentNode.removeChild(d), w.style.overflow = f, w.offsetHeight) : c.parentNode.removeChild(c), !!i;\n  }\n\n  function y(n, r) {\n    var o = n.length;\n\n    if (\"CSS\" in e && \"supports\" in e.CSS) {\n      for (; o--;) {\n        if (e.CSS.supports(c(n[o]), r)) return !0;\n      }\n\n      return !1;\n    }\n\n    if (\"CSSSupportsRule\" in e) {\n      for (var s = []; o--;) {\n        s.push(\"(\" + c(n[o]) + \":\" + r + \")\");\n      }\n\n      return s = s.join(\" or \"), m(\"@supports (\" + s + \") { #modernizr { position: absolute; } }\", function (e) {\n        return \"absolute\" == d(e, null, \"position\");\n      });\n    }\n\n    return t;\n  }\n\n  function v(e, n, o, s) {\n    function f() {\n      c && (delete N.style, delete N.modElem);\n    }\n\n    if (s = r(s, \"undefined\") ? !1 : s, !r(o, \"undefined\")) {\n      var u = y(e, o);\n      if (!r(u, \"undefined\")) return u;\n    }\n\n    for (var c, d, p, m, v, g = [\"modernizr\", \"tspan\", \"samp\"]; !N.style && g.length;) {\n      c = !0, N.modElem = l(g.shift()), N.style = N.modElem.style;\n    }\n\n    for (p = e.length, d = 0; p > d; d++) {\n      if (m = e[d], v = N.style[m], i(m, \"-\") && (m = a(m)), N.style[m] !== t) {\n        if (s || r(o, \"undefined\")) return f(), \"pfx\" == n ? m : !0;\n\n        try {\n          N.style[m] = o;\n        } catch (h) {}\n\n        if (N.style[m] != v) return f(), \"pfx\" == n ? m : !0;\n      }\n    }\n\n    return f(), !1;\n  }\n\n  function g(e, n, t, o, s) {\n    var i = e.charAt(0).toUpperCase() + e.slice(1),\n        l = (e + \" \" + P.join(i + \" \") + i).split(\" \");\n    return r(n, \"string\") || r(n, \"undefined\") ? v(l, n, o, s) : (l = (e + \" \" + z.join(i + \" \") + i).split(\" \"), u(l, n, t));\n  }\n\n  function h(e, n, r) {\n    return g(e, t, t, n, r);\n  }\n\n  var C = [],\n      x = [],\n      S = {\n    _version: \"3.6.0\",\n    _config: {\n      classPrefix: \"\",\n      enableClasses: !0,\n      enableJSClass: !0,\n      usePrefixes: !0\n    },\n    _q: [],\n    on: function on(e, n) {\n      var t = this;\n      setTimeout(function () {\n        n(t[e]);\n      }, 0);\n    },\n    addTest: function addTest(e, n, t) {\n      x.push({\n        name: e,\n        fn: n,\n        options: t\n      });\n    },\n    addAsyncTest: function addAsyncTest(e) {\n      x.push({\n        name: null,\n        fn: e\n      });\n    }\n  },\n      Modernizr = function Modernizr() {};\n\n  Modernizr.prototype = S, Modernizr = new Modernizr();\n\n  var w = n.documentElement,\n      _ = \"svg\" === w.nodeName.toLowerCase(),\n      b = \"Moz O ms Webkit\",\n      P = S._config.usePrefixes ? b.split(\" \") : [];\n\n  S._cssomPrefixes = P;\n  var z = S._config.usePrefixes ? b.toLowerCase().split(\" \") : [];\n  S._domPrefixes = z;\n  var E = {\n    elem: l(\"modernizr\")\n  };\n\n  Modernizr._q.push(function () {\n    delete E.elem;\n  });\n\n  var N = {\n    style: E.elem.style\n  };\n  Modernizr._q.unshift(function () {\n    delete N.style;\n  }), S.testAllProps = g, S.testAllProps = h, Modernizr.addTest(\"flexbox\", h(\"flexBasis\", \"1px\", !0)), Modernizr.addTest(\"flexboxlegacy\", h(\"boxDirection\", \"reverse\", !0)), o(), s(C), delete S.addTest, delete S.addAsyncTest;\n\n  for (var T = 0; T < Modernizr._q.length; T++) {\n    Modernizr._q[T]();\n  }\n\n  e.Modernizr = Modernizr;\n}(window, document); //****************************************************************\n// This script is designed to manipulate pseudo elements - add a style \n//*****************************************************************\n\nvar UID = {\n  _current: 0,\n  getNew: function getNew() {\n    this._current++;\n    return this._current;\n  }\n};\n\nHTMLElement.prototype.pseudoStyle = function (element, prop, value) {\n  var _this = this;\n\n  var _sheetId = \"pseudoStyles\";\n\n  var _head = document.head || document.getElementsByTagName('head')[0];\n\n  var _sheet = document.getElementById(_sheetId) || document.createElement('style');\n\n  _sheet.id = _sheetId;\n  var className = \"pseudoStyle\" + UID.getNew();\n  _this.className += \" \" + className;\n  _sheet.innerHTML += \" .\" + className + \":\" + element + \"{\" + prop + \":\" + value + \"}\";\n\n  _head.appendChild(_sheet);\n\n  return this;\n};\n/**********************************************************************************/\n\n\nfunction update_progress_bar(id_parcours) {\n  console.log(id_parcours);\n  jQuery.ajax({\n    url: ajax_js_obj.ajax_url,\n    dataType: 'json',\n    type: 'post',\n    data: {\n      action: 'get_progress_bar',\n      parcours: id_parcours,\n      submitted_nonce: ajax_js_obj.the_nonce\n    },\n    success: function success(response) {\n      var completed = response['completed'];\n      var percent = response['percent'];\n      var achieved = response['achieved'];\n      var episodes_number = response['episodes_number'];\n      var text = document.getElementById('progress-text');\n      var checkmark = document.getElementById('checkmark');\n      var bar = document.getElementById('bar');\n      var completed_div = document.getElementById('completed');\n      var progress_text = achieved + ' épisode' + (achieved > 1 ? 's' : '') + ' terminé' + (achieved > 1 ? 's' : '') + ' sur ' + episodes_number;\n      text.innerHTML = progress_text;\n\n      if (completed == 1) {\n        checkmark.style.display = \"inline\";\n        completed_div.style.opacity = 1;\n      } else {\n        checkmark.style.display = \"none\";\n        completed_div.style.opacity = 0;\n      }\n\n      console.log(\"percent\", percent);\n      bar.style.width = percent + '%';\n    },\n    complete: function complete(data) {//document.getElementById('preloader').classList.add('hide');\n    },\n    error: function error(response) {\n      console.log('Error retrieving the information: ' + response.status + ' ' + response.statusText); //console.log( response );\n    }\n  });\n}\n\nfunction set_preloader(state) {\n  if (state == true) {\n    var preloader = document.createElement('div');\n    preloader.setAttribute('id', 'preloader');\n    preloader.innerHTML = '<img src=\"/wp-content/themes/didask/img/loader.gif\">';\n    document.body.appendChild(preloader);\n  } else {\n    document.getElementById(\"preloader\").remove();\n  }\n}\n\nfunction set_overlay(state) {\n  var overlay = document.getElementById('overlay');\n  var scale = document.querySelector('.scale');\n\n  if (state === true) {\n    overlay.classList.add('show');\n    overlay.classList.remove('hide');\n    scale.classList.add('scaleOut');\n    scale.classList.remove('scaleIn');\n  } else {\n    overlay.classList.remove('show');\n    overlay.classList.add('hide');\n    scale.classList.add('scaleIn');\n    scale.classList.remove('scaleOut');\n  }\n}\n\nfunction get_index(elt, ar) {\n  return Array.prototype.indexOf.call(ar, elt);\n  /* let parent = elt.parentNode; \r\n    return Array.prototype.indexOf.call(parent.children, elt); */\n}\n\nfunction getIndexOf_multi_dim_array(ar, needle) {\n  if (!ar) {\n    return [];\n  }\n\n  for (var i = 0; i < ar.length; i++) {\n    var index = ar[i].indexOf(needle);\n\n    if (index > -1) {\n      return [i, index];\n    }\n  }\n\n  return [];\n}\n\nfunction slice_array_by_chunk(ar, chunk) {\n  var new_ar = [];\n  var subset;\n\n  for (var i = 0; i < ar.length; i += chunk) {\n    subset = ar.slice(i, i + chunk);\n    new_ar.push(subset);\n  }\n\n  return new_ar;\n}\n\nfunction fade_all_episodes(current, episodes) {\n  episodes.forEach(function (item) {\n    if (item != current) {\n      item.style.opacity = .5;\n    }\n  });\n}\n\nfunction hide_all_modules() {\n  var ar_episodes = document.querySelectorAll('.episode-item');\n  var ar_blocs = document.querySelectorAll('.content-episode-container');\n  ar_blocs.forEach(function (item) {\n    item.style.display = \"none\";\n  });\n  var to_remove = document.querySelector('.episodes-list .content-episode-container');\n\n  if (to_remove != null) {\n    to_remove.remove();\n  }\n\n  ar_episodes.forEach(function (item) {\n    item.classList.remove('selected');\n    item.style.opacity = 1;\n  });\n}\n\nfunction save_progression(index, id_parcours, id_episode) {\n  jQuery.ajax({\n    url: ajax_js_obj.ajax_url,\n    beforeSend: function beforeSend(xhr) {\n      set_overlay(true);\n      set_preloader(true);\n    },\n    dataType: 'json',\n    type: 'post',\n    data: {\n      item_index: index,\n      action: 'save_tracking',\n      episode: id_episode,\n      parcours: id_parcours,\n      submitted_nonce: ajax_js_obj.the_nonce\n    },\n    success: function success(response) {\n      if (response['insert'] === 1) {\n        console.log('response.ok');\n        set_overlay(false);\n        set_preloader(false);\n        var _id_episode = response['id_episode'];\n        var element_to_replace = document.querySelector(\"[data-episode_saved = '\" + _id_episode + \"']\");\n        var bloc_episode = document.querySelector(\"[data-episode = '\" + _id_episode + \"']\");\n        var cb_container = bloc_episode.querySelector(\".checkbox-discover\");\n        var texts = response['texts'];\n        element_to_replace.innerHTML = '<div class=\"text-uppercase pb-2 success\">' + texts['text_on_cancel_btn'] + '</div><div ><a href=\"#\" class=\"cancel-track\">' + texts['text_cancel_btn'] + '</a></div>';\n        cb_container.querySelector('input').checked = true;\n        cb_container.querySelector('.text-label').innerHTML = \"Terminé\";\n\n        if (response['completed'] == true && response['principal'] == true) {\n          console.log('secondaire ok'); //document.querySelector('.wrapper').style.paddingBottom = 0;\n\n          var parcours_secondaire = document.getElementById('parcours-secondaire');\n          parcours_secondaire.style.display = 'block';\n          update_progress_bar(id_parcours);\n          parcours_secondaire.scrollIntoView({\n            behavior: \"smooth\",\n            block: \"start\",\n            inline: \"nearest\"\n          });\n        }\n      }\n    },\n    complete: function complete(data) {//document.getElementById('preloader').classList.add('hide');\n    },\n    error: function error(response) {\n      console.log('Error retrieving the information: ' + response.status + ' ' + response.statusText); //console.log( response );\n    }\n  });\n}\n\nfunction cancel_progression(index, id_parcours, id_episode) {\n  jQuery.ajax({\n    url: ajax_js_obj.ajax_url,\n    beforeSend: function beforeSend(xhr) {\n      set_overlay(true);\n      set_preloader(true);\n    },\n    dataType: 'json',\n    type: 'post',\n    data: {\n      item_index: index,\n      action: 'cancel_tracking',\n      episode: id_episode,\n      parcours: id_parcours,\n      submitted_nonce: ajax_js_obj.the_nonce\n    },\n    success: function success(response) {\n      if (response['update'] === 1) {\n        console.log('update.ok');\n        set_overlay(false);\n        set_preloader(false);\n        var _id_episode2 = response['id_episode'];\n        var element_to_replace = document.querySelector(\"[data-episode_saved = '\" + _id_episode2 + \"']\");\n        var bloc_episode = document.querySelector(\"[data-episode = '\" + _id_episode2 + \"']\");\n        var cb_container = bloc_episode.querySelector(\".checkbox-discover\");\n        var texts = response['texts'];\n        element_to_replace.innerHTML = '<div class=\"text-uppercase pb-2\">' + texts['activite_complete'] + '</div><div class=\"default-btn btn-invert\"><a href=\"/\" class=\"track-btn\">' + texts['texte_save_button'] + '</a></div>';\n        cb_container.querySelector('input').checked = false;\n        cb_container.querySelector('.text-label').innerHTML = \"A réaliser\";\n\n        if (response['completed'] == false) {\n          document.querySelector('.wrapper').style.paddingBottom = 180;\n          var parcours_secondaire = document.getElementById('parcours-secondaire');\n          parcours_secondaire.style.display = 'none';\n        }\n\n        update_progress_bar(id_parcours);\n      }\n    },\n    complete: function complete(data) {//document.getElementById('preloader').classList.add('hide');\n    },\n    error: function error(response) {\n      console.log('Error retrieving the information: ' + response.status + ' ' + response.statusText); //console.log( response );\n    }\n  });\n}\n\nfunction navbarAnimate(el) {\n  el.animate([// keyframes\n\n  /*{ height: 0, 'opacity': 0 }, \r\n  { height: '80vh', 'opacity': 1 }*/\n  {\n    'opacity': 0\n  }, {\n    'opacity': 1\n  }], {\n    // timing options\n    duration: 800,\n    easing: 'ease-out',\n    iterations: 1\n  });\n} //*******************************************************\n//\t\t\t\tJS RESPONSIVE\n//*******************************************************\n\n\nfunction on_click_save_section(pos, event) {\n  event.preventDefault();\n  var parent = event.target.parentElement.parentElement;\n\n  if (event.target.className == \"track-btn\") {\n    var id_parcours = parent.dataset.parcours;\n    var id_episode = parent.dataset.episode_saved;\n    console.log(\"track pos\", pos, \"parcours\", id_parcours, \"episode\", id_episode);\n    save_progression(pos, id_parcours, id_episode);\n  } else if (event.target.className == \"cancel-track\") {\n    if (!confirm(\"Etes-vous sûr de vouloir annuler ?\")) return;\n    var _id_parcours = parent.dataset.parcours;\n    var _id_episode3 = parent.dataset.episode_saved;\n    console.log(\"cancel pos\", pos, \"parcours\", _id_parcours, \"episode\", _id_episode3);\n    cancel_progression(pos, _id_parcours, _id_episode3);\n  }\n}\n\nfunction update_texts(id_episode, id_parcours) {\n  jQuery.ajax({\n    url: ajax_js_obj.ajax_url,\n    dataType: 'json',\n    type: 'post',\n    data: {\n      action: 'get_episode_status',\n      parcours: id_parcours,\n      episode: id_episode,\n      submitted_nonce: ajax_js_obj.the_nonce\n    },\n    success: function success(response) {\n      var texts = response['texts'];\n      var id_episode = response['id_episode'];\n      var element_to_replace = document.querySelector(\"[data-episode_saved = '\" + id_episode + \"']\");\n      var bloc_episode = document.querySelector(\"[data-episode = '\" + id_episode + \"']\");\n\n      if (response['status'] == true) {\n        element_to_replace.innerHTML = '<div class=\"text-uppercase pb-2 success\">' + texts['text_on_cancel_btn'] + '</div><div><a href=\"#\" class=\"cancel-track\">' + texts['text_cancel_btn'] + '</a></div>';\n      } else {\n        element_to_replace.innerHTML = '<div class=\"text-uppercase pb-2\">' + texts['activite_complete'] + '</div><div class=\"default-btn btn-invert\"><a href=\"/\" class=\"track-btn\">' + texts['texte_save_button'] + '</a></div>';\n      }\n\n      element_to_replace.style.opacity = 1;\n    },\n    complete: function complete(data) {//document.getElementById('preloader').classList.add('hide');\n    },\n    error: function error(response) {\n      console.log('Error retrieving the information: ' + response.status + ' ' + response.statusText); //console.log( response );\n    }\n  });\n}\n\nfunction clone_element(ar_blocs, pos) {\n  var clone = ar_blocs[pos].cloneNode(true);\n  var save_section = clone.querySelector('.save-section');\n  clone.style.display = \"block\";\n\n  if (save_section) {\n    save_section.style.opacity = 0;\n    update_texts(save_section.dataset.episode_saved, save_section.dataset.parcours);\n  }\n\n  return clone;\n}\n\nfunction insert_clone(parentNode, newNode, ar, referenceNode) {\n  var clone = parentNode.insertBefore(newNode, ar[referenceNode]);\n  clone.scrollIntoView({\n    behavior: \"smooth\",\n    block: \"center\",\n    inline: \"nearest\"\n  });\n  return clone;\n}\n/*function display_content_sm(breakpoint, pos, episode_container, ar_blocs, ar) {\r\n\r\n\t let count_children = episode_container.childElementCount;\r\n\t   console.log(\"count children\", count_children);\r\n\t   console.log(\"nb rows\", Math.ceil(count_children/2));\r\n\t   let copy = [];\r\n\t   \r\n\t\tconst chunk = 2;\r\n\t\tlet subset;\r\n\r\n\t\tfor (var i=0; i < count_children; i += chunk) {\r\n\t\t    subset = myArray.slice(i, i+chunk);\r\n\t\t  copy.push(subset);\r\n\t\t}\r\n\r\n\t\tconsole.log(\"copyindew\",copy.findIndex(3));\r\n\r\n\t\r\n\tconsole.log(\"ar\",ar);\r\n\tlet clone = clone_element(ar_blocs, pos);\r\n\tlet index = 0;\r\n\tconsole.log(breakpoint);\r\n\r\n\tswitch(breakpoint) {\r\n\r\n\t\tcase 576:\r\n\t\t index = (pos  % 2 == 0)?(pos+2):(pos+1);\r\n\t\t break;\r\n\r\n\t\t case 768:\r\n\t\t index = 3;\r\n\t\t break;\r\n\t}\r\n\tconsole.log(\"index\",);\r\n\tinsert_clone(episode_container, clone, ar, pos);\r\n\t\r\n\t//let ar_all = document.querySelectorAll('.save-section');\r\n\tclone.querySelector('.save-section').addEventListener('click' , event => {\r\n\r\n\t\ton_click_save_section(pos, event);\r\n\t\t\r\n\t});\r\n}*/\n\n\nfunction display_content_lg(pos, episode_container, ar_blocs, ar) {\n  console.log(\"ar_blocs\", ar_blocs);\n  var xsm = window.matchMedia(\"(max-width: 576px)\");\n  var x768 = window.matchMedia(\"(min-width: 768px)\");\n  var x576 = window.matchMedia(\"(min-width: 576px)\");\n  var x1200 = window.matchMedia(\"(min-width: 1200px)\");\n  var chunk = 4;\n  console.log(\"resp\", x768.matches);\n\n  if (xsm.matches) {\n    chunk = 1;\n  }\n\n  if (x576.matches) {\n    chunk = 2;\n  }\n\n  if (x768.matches) {\n    chunk = 3;\n  }\n\n  if (x1200.matches) {\n    chunk = 4;\n  } // if there is more than 3 episodes, the bloc will appear in the middle\n  // so get the number of episodes \n\n\n  var count_children = episode_container.childElementCount;\n  var elements = [];\n  ar.forEach(function (item, num) {\n    elements.push(num);\n  });\n  console.log('elements', elements);\n  var rows = slice_array_by_chunk(elements, chunk);\n  var indexOf = getIndexOf_multi_dim_array(rows, pos);\n  var row = indexOf[0];\n  var pos_in_row = indexOf[1];\n  console.log(\"rows\", rows);\n  console.log(\"row\", row, 'pos_in_row', pos_in_row);\n  var element_to_clone_under = rows[row][chunk - 1];\n  console.log(\"element_to_clone_under\", element_to_clone_under);\n  var index = 3;\n  if (episode_container.classList.contains('library')) index = 4;\n  var clone = clone_element(ar_blocs, pos);\n  insert_clone(episode_container, clone, ar, element_to_clone_under + 1);\n  var ar_all = document.querySelectorAll('.save-section');\n  clone.querySelector('.close').addEventListener('click', function (event) {\n    hide_all_modules();\n  });\n  clone.querySelector('.save-section').addEventListener('click', function (event) {\n    on_click_save_section(pos, event);\n    attach_close_listener();\n  });\n  /*if(count_children > index && pos < index) { \r\n  \t\t//!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n  \t\t// cloning won't keep event listeners\r\n  \t\t//!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n  \t\tlet clone = clone_element(ar_blocs, pos);\r\n  \t\tinsert_clone(episode_container, clone, ar, element_to_clone_under);\r\n   \t \r\n   \t//let ar_all = document.querySelectorAll('.save-section');\r\n  \t\tclone.querySelector('.save-section').addEventListener('click' , event => {\r\n  \t\t\ton_click_save_section(pos, event);\r\n  \t\t\t\r\n  \t\t});\r\n   } \r\n   else {\r\n   \t// show the block episode content\r\n  ar_blocs[pos].style.display = \"block\";\t\r\n   }*/\n}\n\nvar callback = function callback() {\n  jQuery('.colored').matchHeight();\n  var scroll_btn = document.querySelectorAll('.scroll-next a');\n  scroll_btn.forEach(function (item) {\n    item.addEventListener('click', function (event) {\n      event.preventDefault();\n      var parent = item.closest('.section');\n      var next_section = parent.nextElementSibling;\n      next_section.scrollIntoView({\n        behavior: \"smooth\",\n        block: \"center\",\n        inline: \"nearest\"\n      });\n    });\n  }); //****************************************\n  // MENU HAMBURGER\n  //****************************************\n\n  var toggler = document.querySelector('.navbar-toggler');\n  var collapse = document.getElementById('navbarNav');\n  var header = document.getElementById(\"header-container\");\n  toggler.addEventListener('click', function (event) {\n    if (collapse.classList.contains('show')) {\n      console.log('close');\n      /*collapse.classList.remove('show'); */\n\n      header.classList.remove('open');\n    } else {\n      /*collapse.classList.add('show');*/\n      header.classList.add('open');\n      console.log('open');\n    }\n  });\n  /******************************************/\n\n  var all_episodes = document.querySelectorAll('.episode-item');\n  var all_contents = document.querySelectorAll('.content-episode-container');\n  document.querySelectorAll('.episode-item').forEach(function (item) {\n    item.addEventListener('click', function (event) {\n      /*console.log(\"resp\", x576.matches);\r\n      console.log(\"resp\", x768.matches);*/\n      // Get parent of item (episode-list) to determine the list \n      var episode_container = item.parentElement; // get the parent of contents (content-list) of the bloc\n\n      var contents_container = episode_container.nextElementSibling; // get all episode of the bloc\n\n      var ar = episode_container.querySelectorAll('.episode-item'); // get all contents of the bloc\n\n      var ar_blocs = contents_container.querySelectorAll('.content-episode-container'); // on click hide all modules\n\n      if (!item.classList.contains('ghost')) {\n        hide_all_modules();\n        fade_all_episodes(item, all_episodes);\n      } // add the style on episode selected\n\n\n      item.classList.add('selected'); // get the color of the episode\n\n      var colored = item.querySelector('.colored');\n      var color = colored.dataset.color; // and add the colored triangle\n\n      colored.pseudoStyle(\"after\", \"border-top-color\", color + '!important'); // get the position of the episode\n\n      var pos = get_index(item, ar);\n      console.log(\"pos\", pos);\n      console.log(\"ar_blocs\", ar_blocs);\n      display_content_lg(pos, episode_container, ar_blocs, ar);\n      /*if(x992.matches) {\r\n       \t\tdisplay_content_lg(pos , episode_container, ar_blocs, ar);\r\n       \t}\r\n       \telse if(x576.matches){\r\n       \t\tdisplay_content_sm(576, pos , episode_container, ar_blocs, ar);\t\r\n       \t}\r\n       \telse if(x768.matches){\r\n       \t\tdisplay_content_sm(768, pos , episode_container, ar_blocs, ar);\t\r\n       \t}*/\n      // if there is more than 3 episodes, the bloc will appear in the middle\n      // so get the number of episodes \n\n      /*let count_children = episode_container.childElementCount;\r\n      console.log(\"count children\", count_children);*/\n\n      /* if(count_children > 3 && pos < 3) { \r\n       \t\t//!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n       \t\t// cloning won't keep event listeners\r\n       \t\t//!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n       \t\tlet clone = ar_blocs[pos].cloneNode(true);\r\n       \t\tconsole.log(clone);\r\n        \tclone.style.display = \"block\";\r\n        \tepisode_container.insertBefore(clone, ar[3]);\r\n        \tlet ar_all = document.querySelectorAll('.save-section');\r\n       \t\tclone.querySelector('.save-section').addEventListener('click' , event => {\r\n       \t\t\tevent.preventDefault();\r\n      \t\tlet parent = event.target.parentElement.parentElement;\r\n      \t\t\tif(event.target.className == \"track-btn\") {\r\n        \t   // let pos = get_index(item, ar_all); \r\n        \t  \r\n        \t\tlet id_parcours = parent.dataset.parcours;\r\n        \t\tlet id_episode = parent.dataset.episode_saved;\r\n        \t\tconsole.log(\"track pos\",pos,\"parcours\",id_parcours,\"episode\", id_episode);\r\n        \t\tsave_progression(pos, id_parcours , id_episode);\r\n        \t}\r\n        \telse if(event.target.className == \"cancel-track\") {\r\n        \t\tif(!confirm(\"Etes-vous sûr de vouloir annuler ?\")) \r\n        \t\t\treturn;\r\n        \t   // let pos = get_index(item, ar_all); \r\n        \t\tlet id_parcours = parent.dataset.parcours;\r\n        \t\tlet id_episode = parent.dataset.episode_saved;\r\n        \t\tconsole.log(\"cancel pos\",pos,\"parcours\",id_parcours,\"episode\", id_episode);\r\n        \t\tcancel_progression(pos, id_parcours , id_episode);\r\n      \t}\r\n       \t\t});\r\n      \n          }\r\n        else {\r\n        \t// show the block episode content\r\n      ar_blocs[pos].style.display = \"block\";\t\r\n        }*/\n    });\n  });\n  document.querySelectorAll(\".save-section\").forEach(function (item) {\n    var ar = document.querySelectorAll('.save-section');\n    item.addEventListener('click', function (event) {\n      event.preventDefault();\n\n      if (event.target.className == \"track-btn\") {\n        console.log(\"clicked\");\n        var pos = get_index(item, ar);\n        var id_parcours = item.dataset.parcours;\n        var id_episode = item.dataset.episode_saved;\n        console.log(\"track pos\", pos, \"parcours\", id_parcours, \"episode\", id_episode);\n        save_progression(pos, id_parcours, id_episode);\n      } else if (event.target.className == \"cancel-track\") {\n        if (!confirm(\"Etes-vous sûr de vouloir annuler ?\")) return;\n\n        var _pos = get_index(item, ar);\n\n        var _id_parcours2 = item.dataset.parcours;\n        var _id_episode4 = item.dataset.episode_saved;\n        console.log(\"cancel pos\", _pos, \"parcours\", _id_parcours2, \"episode\", _id_episode4);\n        cancel_progression(_pos, _id_parcours2, _id_episode4);\n      }\n    });\n  });\n};\n\nif (document.readyState === \"complete\" || document.readyState !== \"loading\" && !document.documentElement.doScroll) {\n  callback();\n} else {\n  document.addEventListener(\"DOMContentLoaded\", callback);\n}\n\n},{}]},{},[1]);\n"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","_typeof","obj","Symbol","iterator","constructor","prototype","l","createElement","_","createElementNS","apply","arguments","s","replace","toLowerCase","m","d","body","fake","parseInt","id","appendChild","type","styleSheet","cssText","createTextNode","style","background","overflow","w","parentNode","removeChild","offsetHeight","y","CSS","supports","push","join","getComputedStyle","console","getPropertyValue","error","currentStyle","g","charAt","toUpperCase","slice","P","split","N","modElem","v","shift","indexOf","h","z","C","x","S","_version","_config","classPrefix","enableClasses","enableJSClass","usePrefixes","_q","on","this","setTimeout","addTest","name","fn","options","addAsyncTest","Modernizr","documentElement","nodeName","b","_cssomPrefixes","_domPrefixes","E","elem","unshift","testAllProps","hasOwnProperty","aliases","Boolean","className","baseVal","RegExp","T","window","document","UID","_current","getNew","update_progress_bar","id_parcours","log","jQuery","ajax","url","ajax_js_obj","ajax_url","dataType","data","action","parcours","submitted_nonce","the_nonce","success","response","completed","percent","achieved","episodes_number","text","getElementById","checkmark","bar","completed_div","progress_text","innerHTML","display","opacity","width","complete","status","statusText","set_preloader","state","preloader","setAttribute","remove","set_overlay","overlay","scale","querySelector","classList","add","get_index","elt","ar","Array","hide_all_modules","ar_episodes","querySelectorAll","forEach","item","to_remove","save_progression","index","id_episode","beforeSend","item_index","episode","_id_episode","element_to_replace","cb_container","texts","parcours_secondaire","checked","scrollIntoView","behavior","block","inline","cancel_progression","_id_episode2","paddingBottom","clone_element","ar_blocs","pos","clone","cloneNode","save_section","dataset","episode_saved","display_content_lg","episode_container","xsm","matchMedia","x768","x576","x1200","chunk","matches","childElementCount","elements","num","rows","subset","new_ar","slice_array_by_chunk","needle","getIndexOf_multi_dim_array","row","pos_in_row","element_to_clone_under","contains","newNode","referenceNode","insertBefore","addEventListener","event","preventDefault","parent","target","parentElement","confirm","_id_parcours","_id_episode3","on_click_save_section","attach_close_listener","HTMLElement","pseudoStyle","element","prop","value","_sheetId","_head","head","getElementsByTagName","_sheet","callback","matchHeight","closest","nextElementSibling","toggler","collapse","header","all_episodes","current","contents_container","colored","color","_pos","_id_parcours2","_id_episode4","readyState","doScroll"],"mappings":"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"}