{"version":3,"file":"scripts.min.js","sources":["scripts.min.js"],"sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\n//****************************************************************\n// This script is designed to manipulate pseudo elements - add a style \n//*****************************************************************\nvar UID = {\n  _current: 0,\n  getNew: function getNew() {\n    this._current++;\n    return this._current;\n  }\n};\n\nHTMLElement.prototype.pseudoStyle = function (element, prop, value) {\n  var _this = this;\n\n  var _sheetId = \"pseudoStyles\";\n\n  var _head = document.head || document.getElementsByTagName('head')[0];\n\n  var _sheet = document.getElementById(_sheetId) || document.createElement('style');\n\n  _sheet.id = _sheetId;\n  var className = \"pseudoStyle\" + UID.getNew();\n  _this.className += \" \" + className;\n  _sheet.innerHTML += \" .\" + className + \":\" + element + \"{\" + prop + \":\" + value + \"}\";\n\n  _head.appendChild(_sheet);\n\n  return this;\n};\n/**********************************************************************************/\n\n\nfunction update_progress_bar(id_parcours) {\n  console.log(id_parcours);\n  jQuery.ajax({\n    url: ajax_js_obj.ajax_url,\n    dataType: 'json',\n    type: 'post',\n    data: {\n      action: 'get_progress_bar',\n      parcours: id_parcours,\n      submitted_nonce: ajax_js_obj.the_nonce\n    },\n    success: function success(response) {\n      var completed = response['completed'];\n      var percent = response['percent'];\n      var achieved = response['achieved'];\n      var episodes_number = response['episodes_number'];\n      var text = document.getElementById('progress-text');\n      var checkmark = document.getElementById('checkmark');\n      var bar = document.getElementById('bar');\n      var completed_div = document.getElementById('completed');\n      var progress_text = achieved + ' épisode' + (achieved > 1 ? 's' : '') + ' terminé' + (achieved > 1 ? 's' : '') + ' sur ' + episodes_number;\n      text.innerHTML = progress_text;\n\n      if (completed == 1) {\n        checkmark.style.display = \"inline\";\n        completed_div.style.display = \"block\";\n      } else {\n        checkmark.style.display = \"none\";\n        completed_div.style.display = \"none\";\n      }\n\n      console.log(\"percent\", percent);\n      bar.style.width = percent + '%';\n    },\n    complete: function complete(data) {//document.getElementById('preloader').classList.add('hide');\n    },\n    error: function error(response) {\n      console.log('Error retrieving the information: ' + response.status + ' ' + response.statusText); //console.log( response );\n    }\n  });\n}\n\nfunction set_preloader(state) {\n  if (state == true) {\n    var preloader = document.createElement('div');\n    preloader.setAttribute('id', 'preloader');\n    preloader.innerHTML = '<img src=\"/wp-content/themes/didask/img/loader.gif\">';\n    document.body.appendChild(preloader);\n  } else {\n    document.getElementById(\"preloader\").remove();\n  }\n}\n\nfunction set_overlay(state) {\n  var overlay = document.getElementById('overlay');\n  var scale = document.querySelector('.scale');\n\n  if (state === true) {\n    overlay.classList.add('show');\n    overlay.classList.remove('hide');\n    scale.classList.add('scaleOut');\n    scale.classList.remove('scaleIn');\n  } else {\n    overlay.classList.remove('show');\n    overlay.classList.add('hide');\n    scale.classList.add('scaleIn');\n    scale.classList.remove('scaleOut');\n  }\n}\n\nfunction get_index(elt, ar) {\n  return Array.prototype.indexOf.call(ar, elt);\n  /* let parent = elt.parentNode; \r\n    return Array.prototype.indexOf.call(parent.children, elt); */\n}\n\nfunction getIndexOf_multi_dim_array(ar, needle) {\n  if (!ar) {\n    return [];\n  }\n\n  for (var i = 0; i < ar.length; i++) {\n    var index = ar[i].indexOf(needle);\n\n    if (index > -1) {\n      return [i, index];\n    }\n  }\n\n  return [];\n}\n\nfunction slice_array_by_chunk(ar, chunk) {\n  var new_ar = [];\n  var subset;\n\n  for (var i = 0; i < ar.length; i += chunk) {\n    subset = ar.slice(i, i + chunk);\n    new_ar.push(subset);\n  }\n\n  return new_ar;\n}\n\nfunction fade_all_episodes(current, episodes) {\n  episodes.forEach(function (item) {\n    if (item != current) {\n      item.style.opacity = .5;\n    }\n  });\n}\n\nfunction hide_all_modules() {\n  var ar_episodes = document.querySelectorAll('.episode-item');\n  var ar_blocs = document.querySelectorAll('.content-episode-container');\n  ar_blocs.forEach(function (item) {\n    item.style.display = \"none\";\n  });\n  var to_remove = document.querySelector('.episodes-list .content-episode-container');\n\n  if (to_remove != null) {\n    to_remove.remove();\n  }\n\n  ar_episodes.forEach(function (item) {\n    item.classList.remove('selected');\n    item.style.opacity = 1;\n  });\n}\n\nfunction save_progression(index, id_parcours, id_episode) {\n  jQuery.ajax({\n    url: ajax_js_obj.ajax_url,\n    beforeSend: function beforeSend(xhr) {\n      set_overlay(true);\n      set_preloader(true);\n    },\n    dataType: 'json',\n    type: 'post',\n    data: {\n      item_index: index,\n      action: 'save_tracking',\n      episode: id_episode,\n      parcours: id_parcours,\n      submitted_nonce: ajax_js_obj.the_nonce\n    },\n    success: function success(response) {\n      if (response['insert'] === 1) {\n        console.log('response.ok');\n        set_overlay(false);\n        set_preloader(false);\n        var _id_episode = response['id_episode'];\n        var element_to_replace = document.querySelector(\"[data-episode_saved = '\" + _id_episode + \"']\");\n        var bloc_episode = document.querySelector(\"[data-episode = '\" + _id_episode + \"']\");\n        var cb_container = bloc_episode.querySelector(\".checkbox-discover\");\n        var texts = response['texts'];\n        element_to_replace.innerHTML = '<div class=\"text-uppercase pb-2 success\">' + texts['text_on_cancel_btn'] + '</div><div ><a href=\"#\" class=\"cancel-track\">' + texts['text_cancel_btn'] + '</a></div>';\n        cb_container.querySelector('input').checked = true;\n        cb_container.querySelector('.text-label').innerHTML = \"Terminé\";\n\n        if (response['completed'] == true) {\n          //document.querySelector('.wrapper').style.paddingBottom = 0;\n          var _parcours_secondaire = document.getElementById('parcours-secondaire');\n\n          _parcours_secondaire.style.display = 'block';\n\n          _parcours_secondaire.scrollIntoView({\n            behavior: \"smooth\",\n            block: \"center\",\n            inline: \"nearest\"\n          });\n        }\n\n        update_progress_bar(id_parcours);\n      }\n    },\n    complete: function complete(data) {//document.getElementById('preloader').classList.add('hide');\n    },\n    error: function error(response) {\n      console.log('Error retrieving the information: ' + response.status + ' ' + response.statusText); //console.log( response );\n    }\n  });\n}\n\nfunction cancel_progression(index, id_parcours, id_episode) {\n  jQuery.ajax({\n    url: ajax_js_obj.ajax_url,\n    beforeSend: function beforeSend(xhr) {\n      set_overlay(true);\n      set_preloader(true);\n    },\n    dataType: 'json',\n    type: 'post',\n    data: {\n      item_index: index,\n      action: 'cancel_tracking',\n      episode: id_episode,\n      parcours: id_parcours,\n      submitted_nonce: ajax_js_obj.the_nonce\n    },\n    success: function success(response) {\n      if (response['update'] === 1) {\n        console.log('update.ok');\n        set_overlay(false);\n        set_preloader(false);\n        var _id_episode2 = response['id_episode'];\n        var element_to_replace = document.querySelector(\"[data-episode_saved = '\" + _id_episode2 + \"']\");\n        var bloc_episode = document.querySelector(\"[data-episode = '\" + _id_episode2 + \"']\");\n        var cb_container = bloc_episode.querySelector(\".checkbox-discover\");\n        var texts = response['texts'];\n        element_to_replace.innerHTML = '<div class=\"text-uppercase pb-2\">' + texts['activite_complete'] + '</div><div class=\"default-btn btn-invert\"><a href=\"/\" class=\"track-btn\">' + texts['texte_save_button'] + '</a></div>';\n        cb_container.querySelector('input').checked = false;\n        cb_container.querySelector('.text-label').innerHTML = \"A réaliser\";\n\n        if (response['completed'] == false) {\n          document.querySelector('.wrapper').style.paddingBottom = 180; //let parcours_secondaire = document.getElementById('parcours-secondaire');\n\n          parcours_secondaire.style.display = 'none';\n        }\n\n        update_progress_bar(id_parcours);\n      }\n    },\n    complete: function complete(data) {//document.getElementById('preloader').classList.add('hide');\n    },\n    error: function error(response) {\n      console.log('Error retrieving the information: ' + response.status + ' ' + response.statusText); //console.log( response );\n    }\n  });\n}\n\nfunction navbarAnimate(el) {\n  el.animate([// keyframes\n\n  /*{ height: 0, 'opacity': 0 }, \r\n  { height: '80vh', 'opacity': 1 }*/\n  {\n    'opacity': 0\n  }, {\n    'opacity': 1\n  }], {\n    // timing options\n    duration: 800,\n    easing: 'ease-out',\n    iterations: 1\n  });\n} //*******************************************************\n//\t\t\t\tJS RESPONSIVE\n//*******************************************************\n\n\nfunction on_click_save_section(pos, event) {\n  event.preventDefault();\n  var parent = event.target.parentElement.parentElement;\n\n  if (event.target.className == \"track-btn\") {\n    var id_parcours = parent.dataset.parcours;\n    var id_episode = parent.dataset.episode_saved;\n    console.log(\"track pos\", pos, \"parcours\", id_parcours, \"episode\", id_episode);\n    save_progression(pos, id_parcours, id_episode);\n  } else if (event.target.className == \"cancel-track\") {\n    if (!confirm(\"Etes-vous sûr de vouloir annuler ?\")) return;\n    var _id_parcours = parent.dataset.parcours;\n    var _id_episode3 = parent.dataset.episode_saved;\n    console.log(\"cancel pos\", pos, \"parcours\", _id_parcours, \"episode\", _id_episode3);\n    cancel_progression(pos, _id_parcours, _id_episode3);\n  }\n}\n\nfunction update_texts(id_episode, id_parcours) {\n  jQuery.ajax({\n    url: ajax_js_obj.ajax_url,\n    dataType: 'json',\n    type: 'post',\n    data: {\n      action: 'get_episode_status',\n      parcours: id_parcours,\n      episode: id_episode,\n      submitted_nonce: ajax_js_obj.the_nonce\n    },\n    success: function success(response) {\n      var texts = response['texts'];\n      var id_episode = response['id_episode'];\n      var element_to_replace = document.querySelector(\"[data-episode_saved = '\" + id_episode + \"']\");\n      var bloc_episode = document.querySelector(\"[data-episode = '\" + id_episode + \"']\");\n\n      if (response['status'] == true) {\n        element_to_replace.innerHTML = '<div class=\"text-uppercase pb-2 success\">' + texts['text_on_cancel_btn'] + '</div><div><a href=\"#\" class=\"cancel-track\">' + texts['text_cancel_btn'] + '</a></div>';\n      } else {\n        element_to_replace.innerHTML = '<div class=\"text-uppercase pb-2\">' + texts['activite_complete'] + '</div><div class=\"default-btn btn-invert\"><a href=\"/\" class=\"track-btn\">' + texts['texte_save_button'] + '</a></div>';\n      }\n\n      element_to_replace.style.opacity = 1;\n    },\n    complete: function complete(data) {//document.getElementById('preloader').classList.add('hide');\n    },\n    error: function error(response) {\n      console.log('Error retrieving the information: ' + response.status + ' ' + response.statusText); //console.log( response );\n    }\n  });\n}\n\nfunction clone_element(ar_blocs, pos) {\n  var clone = ar_blocs[pos].cloneNode(true);\n  var save_section = clone.querySelector('.save-section');\n  clone.style.display = \"block\";\n\n  if (save_section) {\n    save_section.style.opacity = 0;\n    update_texts(save_section.dataset.episode_saved, save_section.dataset.parcours);\n  }\n\n  return clone;\n}\n\nfunction insert_clone(parentNode, newNode, ar, referenceNode) {\n  var clone = parentNode.insertBefore(newNode, ar[referenceNode]);\n  clone.scrollIntoView({\n    behavior: \"smooth\",\n    block: \"center\",\n    inline: \"nearest\"\n  });\n  return clone;\n}\n/*function display_content_sm(breakpoint, pos, episode_container, ar_blocs, ar) {\r\n\r\n\t let count_children = episode_container.childElementCount;\r\n\t   console.log(\"count children\", count_children);\r\n\t   console.log(\"nb rows\", Math.ceil(count_children/2));\r\n\t   let copy = [];\r\n\t   \r\n\t\tconst chunk = 2;\r\n\t\tlet subset;\r\n\r\n\t\tfor (var i=0; i < count_children; i += chunk) {\r\n\t\t    subset = myArray.slice(i, i+chunk);\r\n\t\t  copy.push(subset);\r\n\t\t}\r\n\r\n\t\tconsole.log(\"copyindew\",copy.findIndex(3));\r\n\r\n\t\r\n\tconsole.log(\"ar\",ar);\r\n\tlet clone = clone_element(ar_blocs, pos);\r\n\tlet index = 0;\r\n\tconsole.log(breakpoint);\r\n\r\n\tswitch(breakpoint) {\r\n\r\n\t\tcase 576:\r\n\t\t index = (pos  % 2 == 0)?(pos+2):(pos+1);\r\n\t\t break;\r\n\r\n\t\t case 768:\r\n\t\t index = 3;\r\n\t\t break;\r\n\t}\r\n\tconsole.log(\"index\",);\r\n\tinsert_clone(episode_container, clone, ar, pos);\r\n\t\r\n\t//let ar_all = document.querySelectorAll('.save-section');\r\n\tclone.querySelector('.save-section').addEventListener('click' , event => {\r\n\r\n\t\ton_click_save_section(pos, event);\r\n\t\t\r\n\t});\r\n}*/\n\n\nfunction display_content_lg(pos, episode_container, ar_blocs, ar) {\n  console.log(\"ar_blocs\", ar_blocs);\n  var xsm = window.matchMedia(\"(max-width: 576px)\");\n  var x768 = window.matchMedia(\"(min-width: 768px)\");\n  var x576 = window.matchMedia(\"(min-width: 576px)\");\n  var x1200 = window.matchMedia(\"(min-width: 1200px)\");\n  var chunk = 4;\n  console.log(\"resp\", x768.matches);\n\n  if (xsm.matches) {\n    chunk = 1;\n  }\n\n  if (x576.matches) {\n    chunk = 2;\n  }\n\n  if (x768.matches) {\n    chunk = 3;\n  }\n\n  if (x1200.matches) {\n    chunk = 4;\n  } // if there is more than 3 episodes, the bloc will appear in the middle\n  // so get the number of episodes \n\n\n  var count_children = episode_container.childElementCount;\n  var elements = [];\n  ar.forEach(function (item, num) {\n    elements.push(num);\n  });\n  console.log('elements', elements);\n  var rows = slice_array_by_chunk(elements, chunk);\n  var indexOf = getIndexOf_multi_dim_array(rows, pos);\n  var row = indexOf[0];\n  var pos_in_row = indexOf[1];\n  console.log(\"rows\", rows);\n  console.log(\"row\", row, 'pos_in_row', pos_in_row);\n  var element_to_clone_under = rows[row][chunk - 1];\n  console.log(\"element_to_clone_under\", element_to_clone_under);\n  var index = 3;\n  if (episode_container.classList.contains('library')) index = 4;\n  var clone = clone_element(ar_blocs, pos);\n  insert_clone(episode_container, clone, ar, element_to_clone_under + 1);\n  var ar_all = document.querySelectorAll('.save-section');\n  clone.querySelector('.close').addEventListener('click', function (event) {\n    hide_all_modules();\n  });\n  clone.querySelector('.save-section').addEventListener('click', function (event) {\n    on_click_save_section(pos, event);\n    attach_close_listener();\n  });\n  /*if(count_children > index && pos < index) { \r\n  \t\t//!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n  \t\t// cloning won't keep event listeners\r\n  \t\t//!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n  \t\tlet clone = clone_element(ar_blocs, pos);\r\n  \t\tinsert_clone(episode_container, clone, ar, element_to_clone_under);\r\n   \t \r\n   \t//let ar_all = document.querySelectorAll('.save-section');\r\n  \t\tclone.querySelector('.save-section').addEventListener('click' , event => {\r\n  \t\t\ton_click_save_section(pos, event);\r\n  \t\t\t\r\n  \t\t});\r\n   } \r\n   else {\r\n   \t// show the block episode content\r\n  ar_blocs[pos].style.display = \"block\";\t\r\n   }*/\n}\n\nvar callback = function callback() {\n  jQuery('.colored').matchHeight();\n  var scroll_btn = document.querySelectorAll('.scroll-next a');\n  scroll_btn.forEach(function (item) {\n    item.addEventListener('click', function (event) {\n      event.preventDefault();\n      var parent = item.closest('.section');\n      var next_section = parent.nextElementSibling;\n      next_section.scrollIntoView({\n        behavior: \"smooth\",\n        block: \"center\",\n        inline: \"nearest\"\n      });\n    });\n  }); //****************************************\n  // MENU HAMBURGER\n  //****************************************\n\n  var toggler = document.querySelector('.navbar-toggler');\n  var collapse = document.getElementById('navbarNav');\n  var header = document.getElementById(\"header-container\");\n  toggler.addEventListener('click', function (event) {\n    if (collapse.classList.contains('show')) {\n      console.log('close');\n      /*collapse.classList.remove('show'); */\n\n      header.classList.remove('open');\n    } else {\n      /*collapse.classList.add('show');*/\n      header.classList.add('open');\n      console.log('open');\n    }\n  });\n  /******************************************/\n\n  var all_episodes = document.querySelectorAll('.episode-item');\n  var all_contents = document.querySelectorAll('.content-episode-container');\n  document.querySelectorAll('.episode-item').forEach(function (item) {\n    item.addEventListener('click', function (event) {\n      /*console.log(\"resp\", x576.matches);\r\n      console.log(\"resp\", x768.matches);*/\n      // Get parent of item (episode-list) to determine the list \n      var episode_container = item.parentElement; // get the parent of contents (content-list) of the bloc\n\n      var contents_container = episode_container.nextElementSibling; // get all episode of the bloc\n\n      var ar = episode_container.querySelectorAll('.episode-item'); // get all contents of the bloc\n\n      var ar_blocs = contents_container.querySelectorAll('.content-episode-container'); // on click hide all modules\n\n      if (!item.classList.contains('ghost')) {\n        hide_all_modules();\n        fade_all_episodes(item, all_episodes);\n      } // add the style on episode selected\n\n\n      item.classList.add('selected'); // get the color of the episode\n\n      var colored = item.querySelector('.colored');\n      var color = colored.dataset.color; // and add the colored triangle\n\n      colored.pseudoStyle(\"after\", \"border-top-color\", color + '!important'); // get the position of the episode\n\n      var pos = get_index(item, ar);\n      console.log(\"pos\", pos);\n      console.log(\"ar_blocs\", ar_blocs);\n      display_content_lg(pos, episode_container, ar_blocs, ar);\n      /*if(x992.matches) {\r\n       \t\tdisplay_content_lg(pos , episode_container, ar_blocs, ar);\r\n       \t}\r\n       \telse if(x576.matches){\r\n       \t\tdisplay_content_sm(576, pos , episode_container, ar_blocs, ar);\t\r\n       \t}\r\n       \telse if(x768.matches){\r\n       \t\tdisplay_content_sm(768, pos , episode_container, ar_blocs, ar);\t\r\n       \t}*/\n      // if there is more than 3 episodes, the bloc will appear in the middle\n      // so get the number of episodes \n\n      /*let count_children = episode_container.childElementCount;\r\n      console.log(\"count children\", count_children);*/\n\n      /* if(count_children > 3 && pos < 3) { \r\n       \t\t//!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n       \t\t// cloning won't keep event listeners\r\n       \t\t//!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n       \t\tlet clone = ar_blocs[pos].cloneNode(true);\r\n       \t\tconsole.log(clone);\r\n        \tclone.style.display = \"block\";\r\n        \tepisode_container.insertBefore(clone, ar[3]);\r\n        \tlet ar_all = document.querySelectorAll('.save-section');\r\n       \t\tclone.querySelector('.save-section').addEventListener('click' , event => {\r\n       \t\t\tevent.preventDefault();\r\n      \t\tlet parent = event.target.parentElement.parentElement;\r\n      \t\t\tif(event.target.className == \"track-btn\") {\r\n        \t   // let pos = get_index(item, ar_all); \r\n        \t  \r\n        \t\tlet id_parcours = parent.dataset.parcours;\r\n        \t\tlet id_episode = parent.dataset.episode_saved;\r\n        \t\tconsole.log(\"track pos\",pos,\"parcours\",id_parcours,\"episode\", id_episode);\r\n        \t\tsave_progression(pos, id_parcours , id_episode);\r\n        \t}\r\n        \telse if(event.target.className == \"cancel-track\") {\r\n        \t\tif(!confirm(\"Etes-vous sûr de vouloir annuler ?\")) \r\n        \t\t\treturn;\r\n        \t   // let pos = get_index(item, ar_all); \r\n        \t\tlet id_parcours = parent.dataset.parcours;\r\n        \t\tlet id_episode = parent.dataset.episode_saved;\r\n        \t\tconsole.log(\"cancel pos\",pos,\"parcours\",id_parcours,\"episode\", id_episode);\r\n        \t\tcancel_progression(pos, id_parcours , id_episode);\r\n      \t}\r\n       \t\t});\r\n      \n          }\r\n        else {\r\n        \t// show the block episode content\r\n      ar_blocs[pos].style.display = \"block\";\t\r\n        }*/\n    });\n  });\n  document.querySelectorAll(\".save-section\").forEach(function (item) {\n    var ar = document.querySelectorAll('.save-section');\n    item.addEventListener('click', function (event) {\n      event.preventDefault();\n\n      if (event.target.className == \"track-btn\") {\n        console.log(\"clicked\");\n        var pos = get_index(item, ar);\n        var id_parcours = item.dataset.parcours;\n        var id_episode = item.dataset.episode_saved;\n        console.log(\"track pos\", pos, \"parcours\", id_parcours, \"episode\", id_episode);\n        save_progression(pos, id_parcours, id_episode);\n      } else if (event.target.className == \"cancel-track\") {\n        if (!confirm(\"Etes-vous sûr de vouloir annuler ?\")) return;\n\n        var _pos = get_index(item, ar);\n\n        var _id_parcours2 = item.dataset.parcours;\n        var _id_episode4 = item.dataset.episode_saved;\n        console.log(\"cancel pos\", _pos, \"parcours\", _id_parcours2, \"episode\", _id_episode4);\n        cancel_progression(_pos, _id_parcours2, _id_episode4);\n      }\n    });\n  });\n};\n\nif (document.readyState === \"complete\" || document.readyState !== \"loading\" && !document.documentElement.doScroll) {\n  callback();\n} else {\n  document.addEventListener(\"DOMContentLoaded\", callback);\n}\n\n},{}]},{},[1]);\n"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","UID","_current","getNew","this","update_progress_bar","id_parcours","console","log","jQuery","ajax","url","ajax_js_obj","ajax_url","dataType","type","data","action","parcours","submitted_nonce","the_nonce","success","response","completed","percent","achieved","episodes_number","text","document","getElementById","checkmark","bar","completed_div","progress_text","innerHTML","style","display","width","complete","error","status","statusText","set_preloader","state","preloader","createElement","setAttribute","body","appendChild","remove","set_overlay","overlay","scale","querySelector","classList","add","get_index","elt","ar","Array","prototype","indexOf","hide_all_modules","ar_episodes","querySelectorAll","forEach","item","to_remove","opacity","save_progression","index","id_episode","beforeSend","item_index","episode","_id_episode","element_to_replace","cb_container","texts","_parcours_secondaire","checked","scrollIntoView","behavior","block","inline","cancel_progression","_id_episode2","paddingBottom","parcours_secondaire","clone_element","ar_blocs","pos","clone","cloneNode","save_section","dataset","episode_saved","display_content_lg","episode_container","xsm","window","matchMedia","x768","x576","x1200","chunk","matches","childElementCount","elements","num","push","rows","subset","new_ar","slice","slice_array_by_chunk","needle","getIndexOf_multi_dim_array","row","pos_in_row","element_to_clone_under","contains","newNode","referenceNode","insertBefore","addEventListener","event","preventDefault","parent","target","parentElement","className","confirm","_id_parcours","_id_episode3","on_click_save_section","attach_close_listener","HTMLElement","pseudoStyle","element","prop","value","_sheetId","_head","head","getElementsByTagName","_sheet","id","callback","matchHeight","closest","nextElementSibling","toggler","collapse","header","all_episodes","current","contents_container","colored","color","_pos","_id_parcours2","_id_episode4","readyState","documentElement","doScroll"],"mappings":"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"}